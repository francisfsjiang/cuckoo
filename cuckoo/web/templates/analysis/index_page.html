{% extends "base.html" %}
{% load staticfiles %}
{% block content %}

    <div id="recent_analysis">

{#        <div class="nav_container" style="margin-bottom:30px;">#}
{#            <div></div>#}
{#            <div id="item"><a href="#" data-filter="cat_files">文件</a></div>#}
{#            <div id="item"><a href="#" data-filter="cat_urls">URLs</a></div>#}
{#            <div id="item" class="item-spacer"></div>#}
{#            <div id="item"><a href="#" data-filter="score_0-4" >低危 0 - 4</a></div>#}
{#            <div id="item"><a href="#" data-filter="score_4-7" style="color: #edb80c">中危 4 - 7</a></div>#}
{#            <div id="item"><a href="#" data-filter="score_7-10" style="color: #a94442">高危 7 - 10</a></div>#}
{#            <!--<div id="item"><a href="#" data-filter="pack_pdf">PDF</a></div>#}
{#            <div id="item"><a href="#" data-filter="pack_office">Office</a></div>-->#}
{#        </div>#}
        <div class="row">
            <form id="paginator" target="/analysis/page" method="get">
            <div class="col-md-5 col-md-offset-1">
                <div class="btn-toolbar" style="padding-top: 20px; padding-bottom: 20px">
{#                    <input checked="checked" type="checkbox" name="filter-file" id="filter-file" autocomplete="off" />#}
                    <input type="checkbox" name="filter-file" id="filter-file" autocomplete="off" />
                    <div class="btn-group">
                        <label for="filter-file" class="btn btn-default">
                            <span class="glyphicon glyphicon-ok"></span>
                            <span> </span>
                        </label>
                        <label for="filter-file" class="btn btn-default active">
                            文件
                        </label>
                    </div>

                    <input checked="checked" type="checkbox" name="filter-url" id="filter-url" autocomplete="off" />
                    <div class="btn-group">
                        <label for="filter-url" class="btn btn-default">
                            <span class="glyphicon glyphicon-ok"></span>
                            <span> </span>
                        </label>
                        <label for="filter-url" class="btn btn-default active">
                            URL
                        </label>
                    </div>


                    <input checked="checked" type="checkbox" name="filter-low" id="filter-low" autocomplete="off" />
                    <div class="btn-group">
                        <label for="filter-low" class="btn btn-info">
                            <span class="glyphicon glyphicon-ok"></span>
                            <span> </span>
                        </label>
                        <label for="filter-low" class="btn btn-default active">
                            低危
                        </label>
                    </div>
                    <input checked="checked" type="checkbox" name="filter-medium" id="filter-medium" autocomplete="off" />
                    <div class="btn-group">
                        <label for="filter-medium" class="btn btn-warning">
                            <span class="glyphicon glyphicon-ok"></span>
                            <span> </span>
                        </label>
                        <label for="filter-medium" class="btn btn-default active">
                            中危
                        </label>
                    </div>
                    <input checked="checked" type="checkbox" name="filter-high" id="filter-high" autocomplete="off" />
                    <div class="btn-group">
                        <label for="filter-high" class="btn btn-danger">
                            <span class="glyphicon glyphicon-ok"></span>
                            <span> </span>
                        </label>
                        <label for="filter-high" class="btn btn-default active">
                            高危
                        </label>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <nav aria-label="Page navigation">
                    <ul class="pagination">
                        <li>
                            <a href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li><a href="#">1</a></li>
                        <li><a onclick="$('#page_input').val(2);$('#paginator').submit()">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                        <li><a href="#">5</a></li>
                        <li>
                            <a href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
            <div class="col-md-1">
                <div class="input-group" style="padding-top: 20px">
                    <input id="page_input" type="text" name="page_num" class="form-control"/>
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" onclick="$('page_input').content=2;$('#paginator').submit()">跳转</button>
                    </span>
                </div>
            </div>

            </form>
        </div>

        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <style>
                    table#recent span.badge{
                        border-radius: 0px;
                    }
                </style>


                <table class="table table-striped table-responsive table-analysis" style="table-layout: fixed;">
                    <thead>
                        <td>
                            <strong>ID</strong>
                        </td>
                        <td>
                            <strong>日期</strong>
                        </td>
                        <td>
                            <strong>MD5</strong>
                        </td>
                        <td>
                            <strong>文件名</strong>
                        </td>
                        <td>
                            <strong>状态</strong>
                        </td>
                        <td>
                            <strong>威胁程度</strong>
                        </td>
                    </thead>
                    <tbody>
                        {% if analysis_list %}
                            {% for analysis in analysis_list %}
                                <tr>
                                    <td>
                                        <strong>{{ analysis.id }}</strong>
                                    </td>
                                    <td>
                                        <a href="/analysis/{{ analysis.id }}/summary">
                                            <span class="mono">{{ analysis.date }}</span>
                                        </a>
                                    </td>
                                    <td>
                                        <a href="/analysis/{{ analysis.id }}/summary">
                                            <span class="mono">{{ analysis.md5 }}</span>
                                        </a>
                                    </td>
                                    <td>
                                        <a href="/analysis/{{ analysis.id }}/summary">
                                            {{ analysis.file_name }}
                                        </a>
                                    </td>
                                    <td>
                                        {{ analysis.type }}
                                    </td>
                                    <td>
                                        <span class="badge badge-warning">{{ analysis.score }}</span>
                                    </td>
                                </tr>
                            {% endfor %}
                        {% endif %}
                    </tbody>
                </table>

            </div>
        </div>
    </div>
{% endblock %}
